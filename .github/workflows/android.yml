# Примерный фрагмент workflow — добавьте этот шаг перед запуском сборки Gradle
- name: Ensure Android SDK is available
  uses: android/actions/setup-android@v2
  with:
    api-level: 33
    ndk: '27.2.12479018' # при необходимости укажите нужную версию NDK

- name: Create local.properties for CI
  run: |
    echo "GITHUB_WORKSPACE=$GITHUB_WORKSPACE"
    # Запишем sdk.dir — использовать переменную окружения, которую выставляет setup-android
    if [ -n "$ANDROID_SDK_ROOT" ]; then
      echo "sdk.dir=$ANDROID_SDK_ROOT" > "$GITHUB_WORKSPACE/local.properties"
    else
      # запасной вариант: иногда SDK устанавливают в /github/home/Android/Sdk
      echo "sdk.dir=/github/home/Android/Sdk" > "$GITHUB_WORKSPACE/local.properties"
    fi

    # Если у вас нужен ndk.dir, добавим его, если переменная установлена
    if [ -n "$ANDROID_NDK_HOME" ]; then
      echo "ndk.dir=$ANDROID_NDK_HOME" >> "$GITHUB_WORKSPACE/local.properties"
    fi

    # вывести содержимое для отладки
    echo "Created local.properties:"
    cat "$GITHUB_WORKSPACE/local.properties"
